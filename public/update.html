<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>BRONCO</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="styles/update.css">
    <script src="https://code.jquery.com/jquery.js"></script>
</head>
<body>
    <Nav>
        <div class="navButtons">
            <a class="button" href="/home">Home</a>
            <a class="button" href="/add">Add Client</a>
            <a class="button" href="/all">All Clients</a>
            <a class="button" href="/update">Update a Client</a>
        </div>
        <div class="title">
            <h1>BRONCO</h1>
            <p>Bronwyn's Client Organizer</p>
        </div>
    </Nav>
    <div id="edit">
        <p>Which Client would you like to Update?</p>
        <input type="text" class="form-group" name="editSearch" id="editSearch">
        <button class="btn-secondary" id="editButton">Edit Client Info</button>
    </div>
    <div class="clientForm">
        <p>Update Client form</p>
        <form action="/find" method="post">
            <div class="form-group">
                <label>Name</label>
                <input type="text" name="clientName" id="client-name">
            </div>

            <div class="form-group">
                <label>Status:</label><br>
                <input type="radio" name="status" value="in-progess">in-progress<br>
                <input type="radio" name="status" value="pending">pending<br>
                <input type="radio" name="status" value="incomplete">incomplete<br>
                <input type="radio" name="status" value="complete">complete<br>
                <input type="radio" name="status" value="subscription start">subscription start<br>
                <input type="radio" name="status" value="cancelled" checked>cancelled
            </div>
            <div class="form-group">
                <label>Brand or Person?</label><br>
                <input type="radio" name="brand" value="brand">Brand<br>
                <input type="radio" name="brand" value="person">Person<br>
            </div>
            <div class="form-group">
                <label>Return Client?</label><br>
                <input type="radio" name="return" value="yes">Yes<br>
                <input type="radio" name="return" value="no">No<br>
            </div>
            <div class="form-group">
                <label>How was contact initiated?</label><br>
                <input type="text" name="contact" id="contact" style="height:40px"><br>
            </div>
            <div class="form-group">
                <label>Special Offer?</label><br>
                <input type="radio" name="special" value="yes">Yes<br>
                <input type="radio" name="special" value="no">No<br>
                <input type="text" name="description1" id="description1"><br>
            </div>
            <div class="form-group">
                <label>Consultation Scheduled?</label><br>
                <input type="radio" name="consult" value="yes">Yes<br>
                <input type="radio" name="consult" value="no">No<br>
                <input type="text" name="description2" id="description2"><br>
            </div>
            <div class="form-group">
                <label>Session Scheduled?</label><br>
                <input type="radio" name="scheduled" value="yes">Yes<br>
                <input type="radio" name="scheduled" value="no">No<br>
                <input type="text" name="description3" id="decscription3"><br>
            </div>
            <div class="form-group">
                <label>Agreement Delivered?</label><br>
                <input type="radio" name="agreement" value="yes">Yes<br>
                <input type="radio" name="agreement" value="no">No<br>
                <input type="text" name="description4" id="description4"><br>
            </div>
            <div class="form-group">
                <label>Deposit Amount Requested?</label><br>
                <input type="text" name="depositAmount" id="depositAmount">
            </div>
            <div class="form-group"><br>
                <label>Total Price?</label><br>
                <input type="text" name="totalPrice" id="totalPrice">
            </div>
            <div class="form-group">
                <label>Agreement Signed + Deposit Received?</label><br>
                <input type="radio" name="signed" value="yes">Yes<br>
                <input type="radio" name="signed" value="no">No<br>
            </div>
            <div class="form-group">
                <label>Total Payment Received by Session Date</label><br>
                <input type="text" name="totalBySessionDate" id="totalBySessionDate"><br>
            </div>
            <div class="form-group">
                <label>Shot List + Inspo Prep for Session?</label><br>
                <input type="radio" name="shotList" value="yes">Yes<br>
                <input type="radio" name="shotList" value="no">No<br>
                <input type="text" name="description5" id="description5"><br>
            </div>
            <div class="form-group">
                <label>Lesnses to Use/Rent</label><br>
                <input type="text" name="lenses" id="lenses"><br>
            </div>
            <div class="form-group">
                <label>Equipment Rental?</label><br>
                <input type="radio" name="rental" value="yes">Yes<br>
                <input type="radio" name="rental" value="no">No<br>
            </div>
            <div class="form-group">
                <label>Session Complete?</label><br>
                <input type="radio" name="complete" value="yes">Yes<br>
                <input type="radio" name="complete" value="no">No<br>
                <input type="text" name="description6" id="description6"><br>
            </div>
            <div class="form-group">
                <label>Photo's Moved from SD to HD?</label><br>
                <input type="radio" name="sdhd" value="yes">Yes<br>
                <input type="radio" name="sdhd" value="no">No<br>
                <input type="text" name="description7" id="description7"><br>
            </div>
            <div class="form-group">
                <label>Photo's in LR?</label><br>
                <input type="radio" name="lr" value="yes">Yes<br>
                <input type="radio" name="lr" value="no">No<br>
                <input type="text" name="description8" id="description8"><br>
            </div>
            <div class="form-group">
                <label>Preview Delivered?</label><br>
                <input type="radio" name="preview" value="yes">Yes<br>
                <input type="radio" name="preview" value="no">No<br>
                <input type="text" name="description9" id="description9"><br>
            </div>
            <div class="form-group">
                <label>Final Album Delivered?</label><br>
                <input type="radio" name="final" value="yes">Yes<br>
                <input type="radio" name="final" value="no">No<br>
                <input type="text" name="description10" id="description10"><br>
            </div>

            <input type="submit" id="submit" value="Submit">
        </form>
    </div>

</body>

</html>
<script>
    $("#editButton").on("click", function () {
        var query = $("#editSearch").val().trim();

        $.get("/clients", function (data) {
            for (i = 0; i < data.length; i++) {
                if (data[i].clientName === query) {
                    $("#client-name").val(data[i].clientName);
                    $("#contact").val(data[i].contact);
                    $("#depositAmount").val(data[i].depositAmount);
                    $("#totalPrice").val(data[i].totalPrice);
                    $("#totalBySessionDate").val(data[i].totalBySessionDate);
                    $("#lenses").val(data[i].lenses);
                    $("#description1").val(data[i].description1);
                    $("#description2").val(data[i].description2);
                    $("#description3").val(data[i].description3);
                    $("#description4").val(data[i].description4);
                    $("#description5").val(data[i].description5);
                    $("#description6").val(data[i].description6);
                    $("#description7").val(data[i].description7);
                    $("#description8").val(data[i].description8);
                    $("#description9").val(data[i].description9);
                    $("#description10").val(data[i].description10);

                    $("input[name='status'").each(function () {
                        if ($(this).val() === data[i].status) {
                            console.log(data[i].status);
                            $("input[value='" + data[i].status + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='brand'").each(function () {
                        if ($(this).val() === data[i].brand) {
                            console.log(data[i].brand);
                            $("input[value='" + data[i].brand + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='return'").each(function () {
                        if ($(this).val() === data[i].return) {
                            console.log(data[i].return);
                            console.log($(this).val());
                            $("input[name='return'][value='" + data[i].return + "']").attr("checked", "checked");
                        }
                    });

                    $("input[name='special'").each(function () {
                        if ($(this).val() === data[i].special) {
                            console.log(data[i].special);
                            $("input[name='special'][value='" + data[i].special + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='consult'").each(function () {
                        if ($(this).val() === data[i].consult) {
                            console.log(data[i].consult);
                            $("input[name='consult'][value='" + data[i].consult + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='scheduled'").each(function () {
                        if ($(this).val() === data[i].scheduled) {
                            console.log(data[i].scheduled);
                            $("input[name='scheduled'][value='" + data[i].scheduled + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='agreement'").each(function () {
                        if ($(this).val() === data[i].agreement) {
                            console.log(data[i].agreement);
                            $("input[name='agreement'][value='" + data[i].agreement + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='signed'").each(function () {
                        if ($(this).val() === data[i].signed) {
                            console.log(data[i].signed);
                            $("input[name='signed'][value='" + data[i].signed + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='shotList'").each(function () {
                        if ($(this).val() === data[i].shotList) {
                            console.log(data[i].shotList);
                            $("input[name='shotList'][value='" + data[i].shotList + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='rental'").each(function () {
                        if ($(this).val() === data[i].rental) {
                            console.log(data[i].rental);
                            $("input[name='rental'][value='" + data[i].rental + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='complete'").each(function () {
                        if ($(this).val() === data[i].complete) {
                            console.log(data[i].complete);
                            $("input[name='complete'][value='" + data[i].complete + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='sdhd'").each(function () {
                        if ($(this).val() === data[i].sdhd) {
                            console.log(data[i].sdhd);
                            $("input[name='sdhd'][value='" + data[i].sdhd + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='lr'").each(function () {
                        if ($(this).val() === data[i].lr) {
                            console.log(data[i].lr);
                            $("input[name='lr'][value='" + data[i].lr + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='preview'").each(function () {
                        if ($(this).val() === data[i].preview) {
                            console.log(data[i].preview);
                            $("input[name='preview'][value='" + data[i].preview + "'").attr("checked", "checked");
                        }
                    });

                    $("input[name='final'").each(function () {
                        if ($(this).val() === data[i].final) {
                            console.log(data[i].final);
                            $("input[name='final'][value='" + data[i].final + "'").attr("checked", "checked");
                        }
                    });
                };
            };
        });
    });
</script>